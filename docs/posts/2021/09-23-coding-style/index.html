<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>コーディングスタイル | yamate11のブログ</title>
<meta name="keywords" content="">
<meta name="description" content="自分のコーディングスタイルについてです">
<meta name="author" content="yamate11">
<link rel="canonical" href="https://yamate11.github.io/blog/posts/2021/09-23-coding-style/">
<link crossorigin="anonymous" href="/blog/assets/css/stylesheet.cfdb0c3379ef447c9f679190e89f76ab7e6d5dc5b725c57799a66e44b92c2d56.css" integrity="sha256-z9sMM3nvRHyfZ5GQ6J92q35tXcW3JcV3maZuRLksLVY=" rel="preload stylesheet" as="style">
<link rel="icon" href="https://yamate11.github.io/blog/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://yamate11.github.io/blog/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://yamate11.github.io/blog/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://yamate11.github.io/blog/apple-touch-icon.png">
<link rel="mask-icon" href="https://yamate11.github.io/blog/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript>
<script>
    MathJax = {
      tex: {
        inlineMath: [['$','$'], ['\\(','\\)']],
        processEscapes: true,
        tags: "ams",
        autoload: {
          color: [],
          colorV2: ['color']
        },
        packages: {'[+]': ['noerrors']}
      },
      chtml: {
        matchFontHeight: false,
          

      },
      loader: {
        load: ['[tex]/noerrors']
      }
    };
</script>
<script async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js" id="MathJax-script"></script>



<meta property="og:title" content="コーディングスタイル" />
<meta property="og:description" content="自分のコーディングスタイルについてです" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://yamate11.github.io/blog/posts/2021/09-23-coding-style/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-09-23T12:16:45+09:00" />
<meta property="article:modified_time" content="2021-09-23T12:16:45+09:00" /><meta property="og:site_name" content="yamate11のブログ" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="コーディングスタイル"/>
<meta name="twitter:description" content="自分のコーディングスタイルについてです"/>


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "https://yamate11.github.io/blog/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "コーディングスタイル",
      "item": "https://yamate11.github.io/blog/posts/2021/09-23-coding-style/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "コーディングスタイル",
  "name": "コーディングスタイル",
  "description": "自分のコーディングスタイルについてです",
  "keywords": [
    
  ],
  "articleBody": "競技プログラミングのコードは，基本的には C++ で書いています． とても Python の方が書きやすいときには Python で書くこともありますが， ほとんどありません．\nいろいろな方がコーディングスタイルの話をされていて，参考にしました． ほとんど，今すぐ出てこないのですが， 競技プログラミングを始めた頃， koturnさんの記事 はとても勉強になりました．また， kimiyuki さんの記事 に書かれていることは，実施するようにしたことが多いです． (していないこともたくさんあります．) 以下，上記記事と多少重複しているところもあります．\n整数型は long long 整数型は，基本的には long long を使います． 例外はおおむね次のような感じです．\nbool で済む大きな vector で，スペースを節約したいとき (boolを使う) 64ビットフルに使うビット配列として用いるとき (unsigned long long を使う) ライブラリの中 (int や size_t も使う) つまり，ループ変数なんかも，long long で回しています． int にすると必要な領域が半分になる，とか，ループがひょっとして 多少遅いかもしれない，とか思わないこともありませんが， ともかく「int を使わない」のを原則とすることで， うっかりオーバーフローをしてしまうのを避けようとしています．\nソース中では実際には，先頭に次の定義を置いて，ll と表記しています．\nusing ll = long long; また，基本的には，符号付きの変数を使います． たとえば (1) のようにと書くと警告が出ますが， (2) のように書き足してしのぎます． これは， これは，符号無し変数を使って，うっかり (3) の用に書いてしまう 間違いが怖いからです．\nfor (ll i = 0; i \u003c vec.size(); i++) ... // (1) for (ll i = 0; i \u003c (ll)vec.size(); i++) ... // (2) for (size_t i = N - 1; i \u003e= 0; i--) .... // (3) ラムダ関数を使う 一部の処理をくくり出したいことが当然ありますが， 普通の関数(?)ではなく，ラムダ関数を使います．若干乱暴かもしれませんが， [\u0026] を指定することで，その時点で有効な値を全部キャプチャしてしまいます．\nラムダ関数を使わないと， たとえば，入力に N, M, K がパラメータとして与えられている場合に， よく，以下のようなコードになります．\nint func(ll x, ll N, ll M, ll K, vector\u003cvector\u003cll\u003e\u003e\u0026 A) { ... } int main() { ll N, M, K; cin \u003e\u003e N \u003e\u003e M \u003e\u003e K; vector\u003cvector\u003cll\u003e\u003e A(N); for (ll i = 0; i \u003c N; i++) cin \u003e\u003e A[i]; ... int t1 = func(x1, N, M, K, A); int t2 = func(x2, N, M, K, A); } この，func の引数に N, M, K, A たちを渡すのが面倒に感じるのです． おうおうにして，int func (ll x) { くらいで書き始めて， 書いていくうちに，「あ，Nが要る」「あ，Aも要る」と書き足していく ことになりがちです． ちゃんと設計して書かないのがいかん，という批判は当然あると思いますが， 現実としてそうなので…．\nラムダ関数を使えば以下のように書けるのでらくちんです．\nint main() { ll N, M, K; cin \u003e\u003e N \u003e\u003e M \u003e\u003e K; vector\u003cvector\u003cll\u003e\u003e A(N); for (ll i = 0; i \u003c N; i++) cin \u003e\u003e A[i]; ... auto func = [\u0026](ll x) -\u003e ll { ... // N, M, K, A その他にアクセスできる．変更も可． }; ll t1 = func(x1, N, M, K, A); ll t2 = func(x2, N, M, K, A); } よく最後のセミコロンを書き忘れてコンパイルやり直しますが．\n再帰関数はちょっと書き方がトリッキーですが， 慣れれば手が勝手に動きます(?)．\n... auto dfs = [\u0026](auto f, ll node) -\u003e void { // 引数の先頭に auto f と書いておく // 再帰関数の時には復帰値型 (この場合は void) が省略不可 ... for (ll child : children[node]) { f(f, child); // 再帰呼び出し } }; dfs(dfs, 0); // 関数 dfs の呼び出し．f には dfs 自身を渡す． ... めったにありませんが，相互再帰の例:\nauto isOdd_rep = [\u0026](auto f, ll x) -\u003e bool { if (x == 0) return false; return ! f(f, x - 1); // f には isEven を入れて呼んでいる． }; auto isEven_rep = [\u0026](auto f, ll x) -\u003e bool { if (x == 0) return true; return ! isOdd_rep(f, x - 1); // ここは isOdd_rep を呼ぶ． }; auto isOdd = [\u0026](ll x) -\u003e bool { return isOdd_rep( isEven_rep, x); } auto isEven = [\u0026](ll x) -\u003e bool { return isEven_rep(isEven_rep, x); } assert(isOdd(5) == true); assert(isEven(6) == true); もちろん，isOdd などを定義せずに，直接 isOdd_rep(isEven_rep, 5) などと呼び出しても良いです．\nデバッグ出力 ときどき，「デバッグ用の printf を消し忘れてWA」という話を聞きます． 私は注意力散漫なので，なにかしないと絶対やってしまうにきまっているので， 対策しています．\nコンパイルは，必ず make で行う． ソースファイル名は固定 (cans.cc にしている)． Makefile を次のように書いておく: 単に make を実行すると，識別子 DEBUG の値が真で， 識別子 _GLIBCXX_DEBUG が定義 された状態でコンパイルされる．その他，-g と -O0 も指定される． make DEBUG= で実行すると，上記識別子は定義されず，-O2 で コンパイルされる． デバッグ用のライブラリを用意する: 識別子 DEBUG の値が真ならば，DLOGK() などのマクロが 定義される．DLOGK(e) などと呼び出すと，「e」という文字列と eの値が，標準エラー出力に出力される． 識別子 DEBUG が定義されていない状況では，デバッグ出力は 行われない． 識別子 _GLIBCXX_DEBUG は，C++ の STL をデバッグモードで動かすことを 指示するものです．これが定義されていると，vector のサイズを超えた アクセスなどがエラーとして報告されて，便利です． gdb を使えばソース上の位置などもわかります．\nこうしておくと，ソースを修正することなく， 手元では，デバッグ出力などが見えますし，提出先では DEBUG という識別子は定義されていないので，出力されません． また，標準エラー出力に出力しているので，想定回答との比較を行う プログラムで標準出力だけを見るようにすれば，デバッグ出力があっても (速度を除けば)問題無く機能します．速度に問題がある場合には make clean; make DEBUG= でコンパイルし直します．\nあまりきれいじゃないかもしれませんが，コードです:\nMakefile (GNU make用):\nCXX := g++ ifeq ($(DEBUG),) DEBUGFLAGS := -O2 else DEBUGFLAGS := -g -O0 -D_GLIBCXX_DEBUG -DDEBUG=1 ifneq ($(DEBUG_LIB),) DEBUGFLAGS := $(DEBUGFLAGS) -DDEBUG_LIB=1 endif endif WARNINGS := -Wall -Wno-format-security -Wshadow -fconcepts CXXFLAGS := -std=gnu++17 $(DEBUGFLAGS) $(WARNINGS) CXXFLAGS := $(CXXFLAGS) -I/full/path/to/ac-library all: cans clean: $(RM) cans.o cans DLOGKなどの定義\ntemplate \u003cclass Head\u003e void dbgLog(bool with_nl, Head\u0026\u0026 head) { cerr \u003c\u003c head; if (with_nl) cerr \u003c\u003c endl; } template \u003cclass Head, class... Tail\u003e void dbgLog(bool with_nl, Head\u0026\u0026 head, Tail\u0026\u0026... tail) { cerr \u003c\u003c head \u003c\u003c \" \"; dbgLog(with_nl, forward\u003cTail\u003e(tail)...); } #if DEBUG #define DLOG(...) dbgLog(true, __VA_ARGS__) #else #define DLOG(...) #endif #define DUP1(E1) #E1 \"=\", E1 #define DUP2(E1,E2) DUP1(E1), DUP1(E2) #define DUP3(E1,...) DUP1(E1), DUP2(__VA_ARGS__) #define DUP4(E1,...) DUP1(E1), DUP3(__VA_ARGS__) #define DUP5(E1,...) DUP1(E1), DUP4(__VA_ARGS__) #define DUP6(E1,...) DUP1(E1), DUP5(__VA_ARGS__) #define DUP7(E1,...) DUP1(E1), DUP6(__VA_ARGS__) #define DUP8(E1,...) DUP1(E1), DUP7(__VA_ARGS__) #define DUP9(E1,...) DUP1(E1), DUP8(__VA_ARGS__) #define DUP10(E1,...) DUP1(E1), DUP9(__VA_ARGS__) #define DUP11(E1,...) DUP1(E1), DUP10(__VA_ARGS__) #define DUP12(E1,...) DUP1(E1), DUP11(__VA_ARGS__) #define GET_MACRO(_1,_2,_3,_4,_5,_6,_7,_8,_9,_10,_11,_12,NAME,...) NAME #define DUP(...) GET_MACRO(__VA_ARGS__, DUP12, DUP11, DUP10, DUP9, DUP\\ 8, DUP7, DUP6, DUP5, DUP4, DUP3, DUP2, DUP1)(__VA_ARGS__) #define DLOGK(...) DLOG(DUP(__VA_ARGS__)) #define DLOGKL(lab, ...) DLOG(lab, DUP(__VA_ARGS__)) ",
  "wordCount" : "639",
  "inLanguage": "en",
  "datePublished": "2021-09-23T12:16:45+09:00",
  "dateModified": "2021-09-23T12:16:45+09:00",
  "author":{
    "@type": "Person",
    "name": "yamate11"
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://yamate11.github.io/blog/posts/2021/09-23-coding-style/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "yamate11のブログ",
    "logo": {
      "@type": "ImageObject",
      "url": "https://yamate11.github.io/blog/favicon.ico"
    }
  }
}
</script>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://yamate11.github.io/blog/" accesskey="h" title="yamate11のブログ (Alt + H)">yamate11のブログ</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="https://yamate11.github.io/blog/archives/" title="記事一覧">
                    <span>記事一覧</span>
                </a>
            </li>
            <li>
                <a href="https://yamate11.github.io/blog/search/" title="検索 (Alt &#43; /)" accesskey=/>
                    <span>検索</span>
                </a>
            </li>
            <li>
                <a href="https://yamate11.github.io/blog/pages/about/" title="筆者">
                    <span>筆者</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    
    <h1 class="post-title">
      コーディングスタイル
    </h1>
    <div class="post-meta">2021-09-23&amp;nbsp;·&amp;nbsp;yamate11
</div>
  </header> 
  <div class="post-content"><p>競技プログラミングのコードは，基本的には C++ で書いています．
とても Python の方が書きやすいときには Python で書くこともありますが，
ほとんどありません．</p>
<p>いろいろな方がコーディングスタイルの話をされていて，参考にしました．
ほとんど，今すぐ出てこないのですが，
競技プログラミングを始めた頃，
<a href="https://koturn.hatenablog.com/entry/2018/07/29/180000" target="_blank">koturnさんの記事</a>

はとても勉強になりました．また，
<a href="https://kimiyuki.net/blog/2020/10/25/coding-style-for-competitive-programming/#fnref:juststyle" target="_blank">kimiyuki さんの記事</a>

に書かれていることは，実施するようにしたことが多いです．
(していないこともたくさんあります．)
以下，上記記事と多少重複しているところもあります．</p>
<h2 id="整数型は-long-long">整数型は long long<a hidden class="anchor" aria-hidden="true" href="#整数型は-long-long">#</a></h2>
<p>整数型は，基本的には long long を使います．
例外はおおむね次のような感じです．</p>
<ul>
<li>bool で済む大きな vector で，スペースを節約したいとき (boolを使う)</li>
<li>64ビットフルに使うビット配列として用いるとき (unsigned long long を使う)</li>
<li>ライブラリの中 (int や size_t も使う)</li>
</ul>
<p>つまり，ループ変数なんかも，long long で回しています．
int にすると必要な領域が半分になる，とか，ループがひょっとして
多少遅いかもしれない，とか思わないこともありませんが，
ともかく「int を使わない」のを原則とすることで，
うっかりオーバーフローをしてしまうのを避けようとしています．</p>
<p>ソース中では実際には，先頭に次の定義を置いて，<code>ll</code> と表記しています．</p>
<div class="highlight"><pre tabindex="0" style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#00a8c8">using</span> <span style="color:#111">ll</span> <span style="color:#f92672">=</span> <span style="color:#00a8c8">long</span> <span style="color:#00a8c8">long</span><span style="color:#111">;</span>
</span></span></code></pre></div><p>また，基本的には，符号付きの変数を使います．
たとえば (1) のようにと書くと警告が出ますが，
(2) のように書き足してしのぎます．
これは，
これは，符号無し変数を使って，うっかり (3) の用に書いてしまう
間違いが怖いからです．</p>
<div class="highlight"><pre tabindex="0" style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#00a8c8">for</span> <span style="color:#111">(</span><span style="color:#111">ll</span> <span style="color:#111">i</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span><span style="color:#111">;</span> <span style="color:#111">i</span> <span style="color:#f92672">&lt;</span> <span style="color:#111">vec</span><span style="color:#111">.</span><span style="color:#111">size</span><span style="color:#111">();</span> <span style="color:#111">i</span><span style="color:#f92672">++</span><span style="color:#111">)</span> <span style="color:#111">...</span>       <span style="color:#75715e">// (1)
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#00a8c8">for</span> <span style="color:#111">(</span><span style="color:#111">ll</span> <span style="color:#111">i</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span><span style="color:#111">;</span> <span style="color:#111">i</span> <span style="color:#f92672">&lt;</span> <span style="color:#111">(</span><span style="color:#111">ll</span><span style="color:#111">)</span><span style="color:#111">vec</span><span style="color:#111">.</span><span style="color:#111">size</span><span style="color:#111">();</span> <span style="color:#111">i</span><span style="color:#f92672">++</span><span style="color:#111">)</span> <span style="color:#111">...</span>   <span style="color:#75715e">// (2)
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#00a8c8">for</span> <span style="color:#111">(</span><span style="color:#111">size_t</span> <span style="color:#111">i</span> <span style="color:#f92672">=</span> <span style="color:#111">N</span> <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span><span style="color:#111">;</span> <span style="color:#111">i</span> <span style="color:#f92672">&gt;=</span> <span style="color:#ae81ff">0</span><span style="color:#111">;</span> <span style="color:#111">i</span><span style="color:#f92672">--</span><span style="color:#111">)</span> <span style="color:#111">....</span>      <span style="color:#75715e">// (3)
</span></span></span></code></pre></div><h2 id="ラムダ関数を使う">ラムダ関数を使う<a hidden class="anchor" aria-hidden="true" href="#ラムダ関数を使う">#</a></h2>
<p>一部の処理をくくり出したいことが当然ありますが，
普通の関数(?)ではなく，ラムダ関数を使います．若干乱暴かもしれませんが，
<code>[&amp;]</code> を指定することで，その時点で有効な値を全部キャプチャしてしまいます．</p>
<p>ラムダ関数を使わないと，
たとえば，入力に N, M, K がパラメータとして与えられている場合に，
よく，以下のようなコードになります．</p>
<div class="highlight"><pre tabindex="0" style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#00a8c8">int</span> <span style="color:#75af00">func</span><span style="color:#111">(</span><span style="color:#111">ll</span> <span style="color:#111">x</span><span style="color:#111">,</span> <span style="color:#111">ll</span> <span style="color:#111">N</span><span style="color:#111">,</span> <span style="color:#111">ll</span> <span style="color:#111">M</span><span style="color:#111">,</span> <span style="color:#111">ll</span> <span style="color:#111">K</span><span style="color:#111">,</span> <span style="color:#111">vector</span><span style="color:#f92672">&lt;</span><span style="color:#111">vector</span><span style="color:#f92672">&lt;</span><span style="color:#111">ll</span><span style="color:#f92672">&gt;&gt;&amp;</span> <span style="color:#111">A</span><span style="color:#111">)</span> <span style="color:#111">{</span>
</span></span><span style="display:flex;"><span>  <span style="color:#111">...</span>
</span></span><span style="display:flex;"><span><span style="color:#111">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#00a8c8">int</span> <span style="color:#75af00">main</span><span style="color:#111">()</span> <span style="color:#111">{</span>
</span></span><span style="display:flex;"><span>  <span style="color:#111">ll</span> <span style="color:#111">N</span><span style="color:#111">,</span> <span style="color:#111">M</span><span style="color:#111">,</span> <span style="color:#111">K</span><span style="color:#111">;</span> <span style="color:#111">cin</span> <span style="color:#f92672">&gt;&gt;</span> <span style="color:#111">N</span> <span style="color:#f92672">&gt;&gt;</span> <span style="color:#111">M</span> <span style="color:#f92672">&gt;&gt;</span> <span style="color:#111">K</span><span style="color:#111">;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#111">vector</span><span style="color:#f92672">&lt;</span><span style="color:#111">vector</span><span style="color:#f92672">&lt;</span><span style="color:#111">ll</span><span style="color:#f92672">&gt;&gt;</span> <span style="color:#111">A</span><span style="color:#111">(</span><span style="color:#111">N</span><span style="color:#111">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#00a8c8">for</span> <span style="color:#111">(</span><span style="color:#111">ll</span> <span style="color:#111">i</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span><span style="color:#111">;</span> <span style="color:#111">i</span> <span style="color:#f92672">&lt;</span> <span style="color:#111">N</span><span style="color:#111">;</span> <span style="color:#111">i</span><span style="color:#f92672">++</span><span style="color:#111">)</span> <span style="color:#111">cin</span> <span style="color:#f92672">&gt;&gt;</span> <span style="color:#111">A</span><span style="color:#111">[</span><span style="color:#111">i</span><span style="color:#111">];</span>
</span></span><span style="display:flex;"><span>  <span style="color:#111">...</span>
</span></span><span style="display:flex;"><span>  <span style="color:#00a8c8">int</span> <span style="color:#111">t1</span> <span style="color:#f92672">=</span> <span style="color:#111">func</span><span style="color:#111">(</span><span style="color:#111">x1</span><span style="color:#111">,</span> <span style="color:#111">N</span><span style="color:#111">,</span> <span style="color:#111">M</span><span style="color:#111">,</span> <span style="color:#111">K</span><span style="color:#111">,</span> <span style="color:#111">A</span><span style="color:#111">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#00a8c8">int</span> <span style="color:#111">t2</span> <span style="color:#f92672">=</span> <span style="color:#111">func</span><span style="color:#111">(</span><span style="color:#111">x2</span><span style="color:#111">,</span> <span style="color:#111">N</span><span style="color:#111">,</span> <span style="color:#111">M</span><span style="color:#111">,</span> <span style="color:#111">K</span><span style="color:#111">,</span> <span style="color:#111">A</span><span style="color:#111">);</span>
</span></span><span style="display:flex;"><span><span style="color:#111">}</span>
</span></span></code></pre></div><p>この，func の引数に N, M, K, A たちを渡すのが面倒に感じるのです．
おうおうにして，<code>int func (ll x) {</code> くらいで書き始めて，
書いていくうちに，「あ，Nが要る」「あ，Aも要る」と書き足していく
ことになりがちです．
ちゃんと設計して書かないのがいかん，という批判は当然あると思いますが，
現実としてそうなので&hellip;．</p>
<p>ラムダ関数を使えば以下のように書けるのでらくちんです．</p>
<div class="highlight"><pre tabindex="0" style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#00a8c8">int</span> <span style="color:#75af00">main</span><span style="color:#111">()</span> <span style="color:#111">{</span>
</span></span><span style="display:flex;"><span>  <span style="color:#111">ll</span> <span style="color:#111">N</span><span style="color:#111">,</span> <span style="color:#111">M</span><span style="color:#111">,</span> <span style="color:#111">K</span><span style="color:#111">;</span> <span style="color:#111">cin</span> <span style="color:#f92672">&gt;&gt;</span> <span style="color:#111">N</span> <span style="color:#f92672">&gt;&gt;</span> <span style="color:#111">M</span> <span style="color:#f92672">&gt;&gt;</span> <span style="color:#111">K</span><span style="color:#111">;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#111">vector</span><span style="color:#f92672">&lt;</span><span style="color:#111">vector</span><span style="color:#f92672">&lt;</span><span style="color:#111">ll</span><span style="color:#f92672">&gt;&gt;</span> <span style="color:#111">A</span><span style="color:#111">(</span><span style="color:#111">N</span><span style="color:#111">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#00a8c8">for</span> <span style="color:#111">(</span><span style="color:#111">ll</span> <span style="color:#111">i</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span><span style="color:#111">;</span> <span style="color:#111">i</span> <span style="color:#f92672">&lt;</span> <span style="color:#111">N</span><span style="color:#111">;</span> <span style="color:#111">i</span><span style="color:#f92672">++</span><span style="color:#111">)</span> <span style="color:#111">cin</span> <span style="color:#f92672">&gt;&gt;</span> <span style="color:#111">A</span><span style="color:#111">[</span><span style="color:#111">i</span><span style="color:#111">];</span>
</span></span><span style="display:flex;"><span>  <span style="color:#111">...</span>
</span></span><span style="display:flex;"><span>  <span style="color:#00a8c8">auto</span> <span style="color:#111">func</span> <span style="color:#f92672">=</span> <span style="color:#111">[</span><span style="color:#f92672">&amp;</span><span style="color:#111">](</span><span style="color:#111">ll</span> <span style="color:#111">x</span><span style="color:#111">)</span> <span style="color:#f92672">-&gt;</span> <span style="color:#111">ll</span> <span style="color:#111">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#111">...</span> <span style="color:#75715e">// N, M, K, A その他にアクセスできる．変更も可．
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#111">};</span>
</span></span><span style="display:flex;"><span>  <span style="color:#111">ll</span> <span style="color:#111">t1</span> <span style="color:#f92672">=</span> <span style="color:#111">func</span><span style="color:#111">(</span><span style="color:#111">x1</span><span style="color:#111">,</span> <span style="color:#111">N</span><span style="color:#111">,</span> <span style="color:#111">M</span><span style="color:#111">,</span> <span style="color:#111">K</span><span style="color:#111">,</span> <span style="color:#111">A</span><span style="color:#111">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#111">ll</span> <span style="color:#111">t2</span> <span style="color:#f92672">=</span> <span style="color:#111">func</span><span style="color:#111">(</span><span style="color:#111">x2</span><span style="color:#111">,</span> <span style="color:#111">N</span><span style="color:#111">,</span> <span style="color:#111">M</span><span style="color:#111">,</span> <span style="color:#111">K</span><span style="color:#111">,</span> <span style="color:#111">A</span><span style="color:#111">);</span>
</span></span><span style="display:flex;"><span><span style="color:#111">}</span>
</span></span></code></pre></div><p>よく最後のセミコロンを書き忘れてコンパイルやり直しますが．</p>
<p>再帰関数はちょっと書き方がトリッキーですが，
慣れれば手が勝手に動きます(?)．</p>
<div class="highlight"><pre tabindex="0" style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>  <span style="color:#111">...</span>
</span></span><span style="display:flex;"><span>  <span style="color:#00a8c8">auto</span> <span style="color:#111">dfs</span> <span style="color:#f92672">=</span> <span style="color:#111">[</span><span style="color:#f92672">&amp;</span><span style="color:#111">](</span><span style="color:#00a8c8">auto</span> <span style="color:#111">f</span><span style="color:#111">,</span> <span style="color:#111">ll</span> <span style="color:#111">node</span><span style="color:#111">)</span> <span style="color:#f92672">-&gt;</span> <span style="color:#00a8c8">void</span> <span style="color:#111">{</span>
</span></span><span style="display:flex;"><span>             <span style="color:#75715e">// 引数の先頭に auto f と書いておく
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>             <span style="color:#75715e">// 再帰関数の時には復帰値型 (この場合は void) が省略不可
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#111">...</span>
</span></span><span style="display:flex;"><span>    <span style="color:#00a8c8">for</span> <span style="color:#111">(</span><span style="color:#111">ll</span> <span style="color:#111">child</span> <span style="color:#111">:</span> <span style="color:#111">children</span><span style="color:#111">[</span><span style="color:#111">node</span><span style="color:#111">])</span> <span style="color:#111">{</span>
</span></span><span style="display:flex;"><span>      <span style="color:#111">f</span><span style="color:#111">(</span><span style="color:#111">f</span><span style="color:#111">,</span> <span style="color:#111">child</span><span style="color:#111">);</span>  <span style="color:#75715e">// 再帰呼び出し
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#111">}</span>
</span></span><span style="display:flex;"><span>  <span style="color:#111">};</span>
</span></span><span style="display:flex;"><span>  <span style="color:#111">dfs</span><span style="color:#111">(</span><span style="color:#111">dfs</span><span style="color:#111">,</span> <span style="color:#ae81ff">0</span><span style="color:#111">);</span>   <span style="color:#75715e">// 関数 dfs の呼び出し．f には dfs 自身を渡す．
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#111">...</span>
</span></span></code></pre></div><p>めったにありませんが，相互再帰の例:</p>
<div class="highlight"><pre tabindex="0" style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>  <span style="color:#00a8c8">auto</span> <span style="color:#111">isOdd_rep</span>  <span style="color:#f92672">=</span> <span style="color:#111">[</span><span style="color:#f92672">&amp;</span><span style="color:#111">](</span><span style="color:#00a8c8">auto</span> <span style="color:#111">f</span><span style="color:#111">,</span> <span style="color:#111">ll</span> <span style="color:#111">x</span><span style="color:#111">)</span> <span style="color:#f92672">-&gt;</span> <span style="color:#00a8c8">bool</span> <span style="color:#111">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#00a8c8">if</span> <span style="color:#111">(</span><span style="color:#111">x</span> <span style="color:#f92672">==</span> <span style="color:#ae81ff">0</span><span style="color:#111">)</span> <span style="color:#00a8c8">return</span> <span style="color:#111">false</span><span style="color:#111">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#00a8c8">return</span> <span style="color:#f92672">!</span> <span style="color:#111">f</span><span style="color:#111">(</span><span style="color:#111">f</span><span style="color:#111">,</span> <span style="color:#111">x</span> <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span><span style="color:#111">);</span>       <span style="color:#75715e">// f には isEven を入れて呼んでいる．
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#111">};</span>
</span></span><span style="display:flex;"><span>  <span style="color:#00a8c8">auto</span> <span style="color:#111">isEven_rep</span> <span style="color:#f92672">=</span> <span style="color:#111">[</span><span style="color:#f92672">&amp;</span><span style="color:#111">](</span><span style="color:#00a8c8">auto</span> <span style="color:#111">f</span><span style="color:#111">,</span> <span style="color:#111">ll</span> <span style="color:#111">x</span><span style="color:#111">)</span> <span style="color:#f92672">-&gt;</span> <span style="color:#00a8c8">bool</span> <span style="color:#111">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#00a8c8">if</span> <span style="color:#111">(</span><span style="color:#111">x</span> <span style="color:#f92672">==</span> <span style="color:#ae81ff">0</span><span style="color:#111">)</span> <span style="color:#00a8c8">return</span> <span style="color:#111">true</span><span style="color:#111">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#00a8c8">return</span> <span style="color:#f92672">!</span> <span style="color:#111">isOdd_rep</span><span style="color:#111">(</span><span style="color:#111">f</span><span style="color:#111">,</span> <span style="color:#111">x</span> <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span><span style="color:#111">);</span>   <span style="color:#75715e">// ここは isOdd_rep を呼ぶ．
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#111">};</span>
</span></span><span style="display:flex;"><span>  <span style="color:#00a8c8">auto</span> <span style="color:#111">isOdd</span>  <span style="color:#f92672">=</span> <span style="color:#111">[</span><span style="color:#f92672">&amp;</span><span style="color:#111">](</span><span style="color:#111">ll</span> <span style="color:#111">x</span><span style="color:#111">)</span> <span style="color:#f92672">-&gt;</span> <span style="color:#00a8c8">bool</span> <span style="color:#111">{</span> <span style="color:#00a8c8">return</span> <span style="color:#75af00">isOdd_rep</span><span style="color:#111">(</span> <span style="color:#111">isEven_rep</span><span style="color:#111">,</span> <span style="color:#111">x</span><span style="color:#111">);</span> <span style="color:#111">}</span>
</span></span><span style="display:flex;"><span>  <span style="color:#00a8c8">auto</span> <span style="color:#111">isEven</span> <span style="color:#f92672">=</span> <span style="color:#111">[</span><span style="color:#f92672">&amp;</span><span style="color:#111">](</span><span style="color:#111">ll</span> <span style="color:#111">x</span><span style="color:#111">)</span> <span style="color:#f92672">-&gt;</span> <span style="color:#00a8c8">bool</span> <span style="color:#111">{</span> <span style="color:#00a8c8">return</span> <span style="color:#75af00">isEven_rep</span><span style="color:#111">(</span><span style="color:#111">isEven_rep</span><span style="color:#111">,</span> <span style="color:#111">x</span><span style="color:#111">);</span> <span style="color:#111">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#111">assert</span><span style="color:#111">(</span><span style="color:#111">isOdd</span><span style="color:#111">(</span><span style="color:#ae81ff">5</span><span style="color:#111">)</span> <span style="color:#f92672">==</span> <span style="color:#111">true</span><span style="color:#111">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#111">assert</span><span style="color:#111">(</span><span style="color:#111">isEven</span><span style="color:#111">(</span><span style="color:#ae81ff">6</span><span style="color:#111">)</span> <span style="color:#f92672">==</span> <span style="color:#111">true</span><span style="color:#111">);</span>
</span></span></code></pre></div><p>もちろん，<code>isOdd</code> などを定義せずに，直接
<code>isOdd_rep(isEven_rep, 5)</code> などと呼び出しても良いです．</p>
<h2 id="デバッグ出力">デバッグ出力<a hidden class="anchor" aria-hidden="true" href="#デバッグ出力">#</a></h2>
<p>ときどき，「デバッグ用の printf を消し忘れてWA」という話を聞きます．
私は注意力散漫なので，なにかしないと絶対やってしまうにきまっているので，
対策しています．</p>
<ul>
<li>コンパイルは，必ず make で行う．
ソースファイル名は固定 (<code>cans.cc</code> にしている)．</li>
<li>Makefile を次のように書いておく:
<ul>
<li>単に <code>make</code> を実行すると，識別子 <code>DEBUG</code> の値が真で，
識別子 <code>_GLIBCXX_DEBUG</code> が定義
された状態でコンパイルされる．その他，<code>-g</code> と <code>-O0</code> も指定される．</li>
<li><code>make DEBUG= </code> で実行すると，上記識別子は定義されず，<code>-O2</code> で
コンパイルされる．</li>
</ul>
</li>
<li>デバッグ用のライブラリを用意する:
<ul>
<li>識別子 <code>DEBUG</code> の値が真ならば，<code>DLOGK()</code> などのマクロが
定義される．<code>DLOGK(e)</code> などと呼び出すと，「e」という文字列と
eの値が，標準エラー出力に出力される．</li>
<li>識別子 <code>DEBUG</code> が定義されていない状況では，デバッグ出力は
行われない．</li>
</ul>
</li>
</ul>
<p>識別子 <code>_GLIBCXX_DEBUG</code> は，C++ の STL をデバッグモードで動かすことを
指示するものです．これが定義されていると，vector のサイズを超えた
アクセスなどがエラーとして報告されて，便利です．
gdb を使えばソース上の位置などもわかります．</p>
<p>こうしておくと，ソースを修正することなく，
手元では，デバッグ出力などが見えますし，提出先では
DEBUG という識別子は定義されていないので，出力されません．
また，標準エラー出力に出力しているので，想定回答との比較を行う
プログラムで標準出力だけを見るようにすれば，デバッグ出力があっても
(速度を除けば)問題無く機能します．速度に問題がある場合には
<code>make clean; make DEBUG= </code> でコンパイルし直します．</p>
<p>あまりきれいじゃないかもしれませんが，コードです:</p>
<p>Makefile (GNU make用):</p>
<div class="highlight"><pre tabindex="0" style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>CXX := g++
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>ifeq ($(DEBUG),)
</span></span><span style="display:flex;"><span>  DEBUGFLAGS := -O2
</span></span><span style="display:flex;"><span>else
</span></span><span style="display:flex;"><span>  DEBUGFLAGS := -g -O0 -D_GLIBCXX_DEBUG -DDEBUG=1
</span></span><span style="display:flex;"><span>  ifneq ($(DEBUG_LIB),)
</span></span><span style="display:flex;"><span>    DEBUGFLAGS := $(DEBUGFLAGS) -DDEBUG_LIB=1
</span></span><span style="display:flex;"><span>  endif
</span></span><span style="display:flex;"><span>endif
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>WARNINGS := -Wall -Wno-format-security -Wshadow -fconcepts
</span></span><span style="display:flex;"><span>CXXFLAGS := -std=gnu++17 $(DEBUGFLAGS) $(WARNINGS)
</span></span><span style="display:flex;"><span>CXXFLAGS := $(CXXFLAGS) -I/full/path/to/ac-library
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>all: cans
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>clean:
</span></span><span style="display:flex;"><span>	$(RM) cans.o cans
</span></span></code></pre></div><p>DLOGKなどの定義</p>
<div class="highlight"><pre tabindex="0" style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#00a8c8">template</span> <span style="color:#f92672">&lt;</span><span style="color:#00a8c8">class</span> <span style="color:#75af00">Head</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#00a8c8">void</span> <span style="color:#111">dbgLog</span><span style="color:#111">(</span><span style="color:#00a8c8">bool</span> <span style="color:#111">with_nl</span><span style="color:#111">,</span> <span style="color:#111">Head</span><span style="color:#f92672">&amp;&amp;</span> <span style="color:#111">head</span><span style="color:#111">)</span> <span style="color:#111">{</span>
</span></span><span style="display:flex;"><span>  <span style="color:#111">cerr</span> <span style="color:#f92672">&lt;&lt;</span> <span style="color:#111">head</span><span style="color:#111">;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#00a8c8">if</span> <span style="color:#111">(</span><span style="color:#111">with_nl</span><span style="color:#111">)</span> <span style="color:#111">cerr</span> <span style="color:#f92672">&lt;&lt;</span> <span style="color:#111">endl</span><span style="color:#111">;</span>
</span></span><span style="display:flex;"><span><span style="color:#111">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#00a8c8">template</span> <span style="color:#f92672">&lt;</span><span style="color:#00a8c8">class</span> <span style="color:#75af00">Head</span><span style="color:#111">,</span> <span style="color:#00a8c8">class</span><span style="color:#960050;background-color:#1e0010">... </span><span style="color:#75af00">Tail</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#00a8c8">void</span> <span style="color:#111">dbgLog</span><span style="color:#111">(</span><span style="color:#00a8c8">bool</span> <span style="color:#111">with_nl</span><span style="color:#111">,</span> <span style="color:#111">Head</span><span style="color:#f92672">&amp;&amp;</span> <span style="color:#111">head</span><span style="color:#111">,</span> <span style="color:#111">Tail</span><span style="color:#f92672">&amp;&amp;</span><span style="color:#111">...</span> <span style="color:#111">tail</span><span style="color:#111">)</span>
</span></span><span style="display:flex;"><span><span style="color:#111">{</span>
</span></span><span style="display:flex;"><span>  <span style="color:#111">cerr</span> <span style="color:#f92672">&lt;&lt;</span> <span style="color:#111">head</span> <span style="color:#f92672">&lt;&lt;</span> <span style="color:#d88200">&#34; &#34;</span><span style="color:#111">;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#111">dbgLog</span><span style="color:#111">(</span><span style="color:#111">with_nl</span><span style="color:#111">,</span> <span style="color:#111">forward</span><span style="color:#f92672">&lt;</span><span style="color:#111">Tail</span><span style="color:#f92672">&gt;</span><span style="color:#111">(</span><span style="color:#111">tail</span><span style="color:#111">)...);</span>
</span></span><span style="display:flex;"><span><span style="color:#111">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#if DEBUG
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#75715e">#define DLOG(...)        dbgLog(true, __VA_ARGS__)
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#else
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#75715e">#define DLOG(...)
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#endif
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#define DUP1(E1)       #E1 &#34;=&#34;, E1
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#define DUP2(E1,E2)    DUP1(E1), DUP1(E2)
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#define DUP3(E1,...)   DUP1(E1), DUP2(__VA_ARGS__)
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#define DUP4(E1,...)   DUP1(E1), DUP3(__VA_ARGS__)
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#define DUP5(E1,...)   DUP1(E1), DUP4(__VA_ARGS__)
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#define DUP6(E1,...)   DUP1(E1), DUP5(__VA_ARGS__)
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#define DUP7(E1,...)   DUP1(E1), DUP6(__VA_ARGS__)
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#define DUP8(E1,...)   DUP1(E1), DUP7(__VA_ARGS__)
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#define DUP9(E1,...)   DUP1(E1), DUP8(__VA_ARGS__)
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#define DUP10(E1,...)   DUP1(E1), DUP9(__VA_ARGS__)
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#define DUP11(E1,...)   DUP1(E1), DUP10(__VA_ARGS__)
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#define DUP12(E1,...)   DUP1(E1), DUP11(__VA_ARGS__)
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#define GET_MACRO(_1,_2,_3,_4,_5,_6,_7,_8,_9,_10,_11,_12,NAME,...) NAME
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#define DUP(...)          GET_MACRO(__VA_ARGS__, DUP12, DUP11, DUP10, DUP9, DUP\
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">8, DUP7, DUP6, DUP5, DUP4, DUP3, DUP2, DUP1)(__VA_ARGS__)
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#define DLOGK(...)        DLOG(DUP(__VA_ARGS__))
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#define DLOGKL(lab, ...)  DLOG(lab, DUP(__VA_ARGS__))
</span></span></span></code></pre></div>

  </div>

  <footer class="post-footer">
<nav class="paginav">
  <a class="prev" href="https://yamate11.github.io/blog/posts/2021/07-06-digitdp/">
    <span class="title">« Prev</span>
    <br>
    <span>桁DPのコーディング</span>
  </a>
  <a class="next" href="https://yamate11.github.io/blog/posts/2021/09-20-cpp-syntax-misc/">
    <span class="title">Next »</span>
    <br>
    <span>C&#43;&#43;言語・STLメモ</span>
  </a>
</nav>

  </footer><p>コメントをどうぞ</p>

<script src="https://y1.is-trm.net/isso/js/embed.min.js"
     data-isso="https://y1.is-trm.net/isso/">
</script>
<section id="isso-thread" data-isso-id="/blog/posts/2021/09-23-coding-style/" data-title="コーディングスタイル">
</section>

<p>Links to Recent Posts:
  / <a href="https://yamate11.github.io/blog/posts/">Posts</a>
  / <a href="https://yamate11.github.io/blog/posts/2024/11-04-comparator-in-set-etc/">比較関数</a>
  / <a href="https://yamate11.github.io/blog/posts/2023/07-05-rec-mistake/">誤りの記録</a>
  / <a href="https://yamate11.github.io/blog/posts/2024/09-15-intervalset/">intervalSet ライブラリ</a>
  / <a href="https://yamate11.github.io/blog/posts/2022/12-10-doubling/">ダブリングライブラリ</a>
  / <a href="https://yamate11.github.io/blog/posts/2024/09-01-lis-with-recovery/">LIS - 最長増加部分列</a>
  / <a href="https://yamate11.github.io/blog/posts/2022/02-13-zobrist-hash/">集合・多重集合のハッシュ</a>
  / <a href="https://yamate11.github.io/blog/posts/2024/08-06-sqrt-decomp/">平方分割ライブラリ</a>
  / <a href="https://yamate11.github.io/blog/posts/2024/06-23-merge-tech-tree-dp/">木DP &#43; マージテク</a>
  / <a href="https://yamate11.github.io/blog/posts/2024/06-21-binomial/">二項係数に関する公式</a>
</p>


</article>
    </main>
    
<footer class="footer">
    <span>&copy; 2025 <a href="https://yamate11.github.io/blog/">yamate11のブログ</a></span>
    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerHTML = 'copy';

        function copyingDone() {
            copybutton.innerHTML = 'copied!';
            setTimeout(() => {
                copybutton.innerHTML = 'copy';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script>
</body>

</html>
