<!DOCTYPE html>
<html lang="en" dir="auto">

<head>
	<meta name="generator" content="Hugo 0.122.0"><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>yamate11のブログ</title>

<meta name="description" content="">
<meta name="author" content="">
<link rel="canonical" href="https://yamate11.github.io/blog/">
<link crossorigin="anonymous" href="/blog/assets/css/stylesheet.cfdb0c3379ef447c9f679190e89f76ab7e6d5dc5b725c57799a66e44b92c2d56.css" integrity="sha256-z9sMM3nvRHyfZ5GQ6J92q35tXcW3JcV3maZuRLksLVY=" rel="preload stylesheet" as="style">
<link rel="icon" href="https://yamate11.github.io/blog/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://yamate11.github.io/blog/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://yamate11.github.io/blog/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://yamate11.github.io/blog/apple-touch-icon.png">
<link rel="mask-icon" href="https://yamate11.github.io/blog/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" type="application/rss+xml" href="https://yamate11.github.io/blog/index.xml">
<link rel="alternate" type="application/json" href="https://yamate11.github.io/blog/index.json">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript>
<script>
    MathJax = {
      tex: {
        inlineMath: [['$','$'], ['\\(','\\)']],
        processEscapes: true,
        tags: "ams",
        autoload: {
          color: [],
          colorV2: ['color']
        },
        packages: {'[+]': ['noerrors']}
      },
      chtml: {
        matchFontHeight: false,
          

      },
      loader: {
        load: ['[tex]/noerrors']
      }
    };
</script>
<script async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js" id="MathJax-script"></script>



<meta property="og:title" content="yamate11のブログ" />
<meta property="og:description" content="" />
<meta property="og:type" content="website" />
<meta property="og:url" content="https://yamate11.github.io/blog/" /><meta property="og:site_name" content="yamate11のブログ" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="yamate11のブログ"/>
<meta name="twitter:description" content=""/>

<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "Organization",
  "name": "yamate11のブログ",
  "url": "https://yamate11.github.io/blog/",
  "description": "",
  "thumbnailUrl": "https://yamate11.github.io/blog/favicon.ico",
  "sameAs": [
      
  ]
}
</script>
</head>

<body class="list" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://yamate11.github.io/blog/" accesskey="h" title="yamate11のブログ (Alt + H)">yamate11のブログ</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="https://yamate11.github.io/blog/archives/" title="記事一覧">
                    <span>記事一覧</span>
                </a>
            </li>
            <li>
                <a href="https://yamate11.github.io/blog/search/" title="検索 (Alt &#43; /)" accesskey=/>
                    <span>検索</span>
                </a>
            </li>
            <li>
                <a href="https://yamate11.github.io/blog/pages/about/" title="筆者">
                    <span>筆者</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main"> 
<article class="first-entry home-info">
    <header class="entry-header">
        <h1>yamate11のブログ</h1>
    </header>
    <div class="entry-content">
        <p>yamate11 の競技プログラミング用のblogです．</p>
<ul>
<li>Links：
<a href="https://atcoder.jp/users/yamate11" target="_blank">AtCoder (yamate11)</a>
 /
<a href="https://codeforces.com/profile/yamate11" target="_blank">Codeforces (yamate11)</a>
 /
<a href="https://twitter.com/_yamate11" target="_blank">Twitter (_yamate11)</a>
</li>
</ul>
    </div>
    <footer class="entry-footer">
        <div class="social-icons" >
</div>

    </footer>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">
    </h2>
  </header>
  <div class="entry-content">
    <p>階段関数 (区分的に定数である関数) を表現するライブラリ intervalSet の説明です． 名前が良くないが，今更帰るのも面倒なので．
コード コードはこちら </p>
  </div>
  <footer class="entry-footer">2024-09-15&amp;nbsp;·&amp;nbsp;yamate11</footer>
  <a class="entry-link" aria-label="post link to " href="https://yamate11.github.io/blog/posts/2024/09-15-intervalset/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">ダブリングライブラリ
    </h2>
  </header>
  <div class="entry-content">
    <p>ダブリングを行うライブラリを書きました．ソースはこちら ．
できること その1 $f : [0, N) \to [0, N)$ が与えられた時， $r \in [0, R]$ と $i \in [0, N)$ に対して $f^{r}(i)$ を 計算する．
典型的には:
$N$ は $10^5$ くらい，$R$ は $10^{18}$ くらい，または $N$ も $R$ も $10^5$ くらいだが，何回も (たとえば $10^5$回くらい) 計算する その2 上の $f$ の他に，モノイド $(M, \oplus)$ と $m: [0, N) \to M$ が与えられて， $r, i$ に対して $\bigoplus_{k = 0}^{r - 1} m(f^{k}(i))$ を計算する．
使用法 その1 DoublingFRel オブジェクト d を作る． 上記 $R$，$N$，$f$ を doubling_from_func に与える． ll R = 100000, N = 100000; auto f = [&amp;](ll i) -&gt; ll { return (i * i) % N; }; auto d = doubling_from_func(R, N, f); 関数 $f$ の代わりにベクトルなどのコンテナを与えたいときには，doubling_from_container を用いる． ll R = 100000, N = 100000; vector&lt;ll&gt; vec(N); REP(i, 0, N) vec[i] = ....</p>
  </div>
  <footer class="entry-footer">2024-09-08&amp;nbsp;·&amp;nbsp;2022-12-10 (初版)&amp;nbsp;·&amp;nbsp;yamate11</footer>
  <a class="entry-link" aria-label="post link to ダブリングライブラリ" href="https://yamate11.github.io/blog/posts/2022/12-10-doubling/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">LIS - 最長増加部分列
    </h2>
  </header>
  <div class="entry-content">
    <p>復元方法も含めた最長増加部分列に関するまとめ</p>
  </div>
  <footer class="entry-footer">2024-09-01&amp;nbsp;·&amp;nbsp;yamate11</footer>
  <a class="entry-link" aria-label="post link to LIS - 最長増加部分列" href="https://yamate11.github.io/blog/posts/2024/09-01-lis-with-recovery/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">集合・多重集合のハッシュ
    </h2>
  </header>
  <div class="entry-content">
    <p>集合のハッシュに関する記事です</p>
  </div>
  <footer class="entry-footer">2024-08-26&amp;nbsp;·&amp;nbsp;2022-02-13T11:32:14&#43;09:00 (初版)&amp;nbsp;·&amp;nbsp;yamate11</footer>
  <a class="entry-link" aria-label="post link to 集合・多重集合のハッシュ" href="https://yamate11.github.io/blog/posts/2022/02-13-zobrist-hash/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">平方分割ライブラリ
    </h2>
  </header>
  <div class="entry-content">
    <p>平方分割ライブラリを書きました</p>
  </div>
  <footer class="entry-footer">2024-08-06&amp;nbsp;·&amp;nbsp;yamate11</footer>
  <a class="entry-link" aria-label="post link to 平方分割ライブラリ" href="https://yamate11.github.io/blog/posts/2024/08-06-sqrt-decomp/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">木DP &#43; マージテク
    </h2>
  </header>
  <div class="entry-content">
    <p>木DP と マージテクを使って解くときのコードスニペット</p>
  </div>
  <footer class="entry-footer">2024-06-23&amp;nbsp;·&amp;nbsp;yamate11</footer>
  <a class="entry-link" aria-label="post link to 木DP &#43; マージテク" href="https://yamate11.github.io/blog/posts/2024/06-23-merge-tech-tree-dp/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">二項係数に関する公式
    </h2>
  </header>
  <div class="entry-content">
    <p>$$ \binom{n}{r} = \binom{n - 1}{r - 1} &#43; \binom{n - 1}{r} $$
言わずもがな．パスカルの三角形
$$ \binom{n}{r} = \frac{n}{r} \binom{n - 1}{r - 1} $$
定理から明らか．
$$ \sum_{i = r}^{n} \binom{i}{r} = \binom{n &#43; 1}{r &#43; 1} $$
Hockey-stick identity. 次のように1を繰り返し適用． $\binom{n &#43; 1}{r &#43; 1} = \binom{n}{r} &#43; \binom{n}{r &#43; 1} = \binom{n}{r} &#43; \binom{n - 1}{r} &#43; \binom{n - 1}{r &#43; 1} = \binom{n}{r} &#43; \binom{n - 1}{r} &#43; \binom{n - 2}{r} &#43; \binom{n - 2}{r &#43; 1} = \dots$...</p>
  </div>
  <footer class="entry-footer">2024-06-21&amp;nbsp;·&amp;nbsp;yamate11</footer>
  <a class="entry-link" aria-label="post link to 二項係数に関する公式" href="https://yamate11.github.io/blog/posts/2024/06-21-binomial/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">忘れやすい事項
    </h2>
  </header>
  <div class="entry-content">
    <p>解法に詰まったとき，以下の方法が適用できないか，考えてみる．
二分探索 bit64倍高速化 convolution 半分全列挙 フロー CHT (期待値) = sum_i (i以上になる確率) deque はランダムアクセスが O(1) 区間 [a, b] を2次元平面の点 (a, b) で表現 区間の問題を距離の問題に言い直して Dijkstra (例題 ) 積の和典型 (ei1333の日記 ) 集合のハッシュ． Zobrist Hashing (有限集合の部分集合) 多重集合のハッシュ (例題 ) </p>
  </div>
  <footer class="entry-footer">2024-06-04&amp;nbsp;·&amp;nbsp;yamate11</footer>
  <a class="entry-link" aria-label="post link to 忘れやすい事項" href="https://yamate11.github.io/blog/posts/2024/06-04-easy-to-forget/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">ABC354-G Select Strings
    </h2>
  </header>
  <div class="entry-content">
    <p>ABC354-G の解答とともに，関連する予備知識 (König の定理, Dilworth の定理) をまとめます</p>
  </div>
  <footer class="entry-footer">2024-05-22&amp;nbsp;·&amp;nbsp;yamate11</footer>
  <a class="entry-link" aria-label="post link to ABC354-G Select Strings" href="https://yamate11.github.io/blog/posts/2024/05-22-abc354-g/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">素数表
    </h2>
  </header>
  <div class="entry-content">
    <p>1000までの素数表 2, 3, 5, 7, 11, 13, 17, 19, 23, 29, 31, 37, 41, 43, 47, 53, 59, 61, 67, 71, 73, 79, 83, 89, 97, 101, 103, 107, 109, 113, 127, 131, 137, 139, 149, 151, 157, 163, 167, 173, 179, 181, 191, 193, 197, 199, 211, 223, 227, 229, 233, 239, 241, 251, 257, 263, 269, 271, 277, 281, 283, 293, 307, 311, 313, 317, 331, 337, 347, 349, 353, 359, 367, 373, 379, 383, 389, 397, 401, 409, 419, 421, 431, 433, 439, 443, 449, 457, 461, 463, 467, 479, 487, 491, 499, 503, 509, 521, 523, 541, 547, 557, 563, 569, 571, 577, 587, 593, 599, 601, 607, 613, 617, 619, 631, 641, 643, 647, 653, 659, 661, 673, 677, 683, 691, 701, 709, 719, 727, 733, 739, 743, 751, 757, 761, 769, 773, 787, 797, 809, 811, 821, 823, 827, 829, 839, 853, 857, 859, 863, 877, 881, 883, 887, 907, 911, 919, 929, 937, 941, 947, 953, 967, 971, 977, 983, 991, 997, $10^9$ までの素数の分布 $n$ $10^n$ までの素数の数 1 4 2 25 3 168 4 1229 5 9592 6 78498 7 664579 8 5761455 9 50847534 </p>
  </div>
  <footer class="entry-footer">2024-04-24&amp;nbsp;·&amp;nbsp;yamate11</footer>
  <a class="entry-link" aria-label="post link to 素数表" href="https://yamate11.github.io/blog/posts/2024/04-24-number-of-primes/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">ポテンシャル付きUnionFind
    </h2>
  </header>
  <div class="entry-content">
    <p>ポテンシャル付きUnionFindです．
使用法 UnionFind uf(N); // 普通のUnionFind (ポテンシャル無し) ld = uf.merge(a, b); // マージ．新しいリーダを返す ld = uf.leader(a); // リーダ ng = uf.num_groups(); // 全体のグループ数 ( == リーダの数) sz = uf.group_size(a); // a が属するグループのサイズ グループの要素のリストを得るためには，前処理として，GroupInfo を作る必要がある． これには，$O(N)$ かかる．
auto gi = uf.group_info(); for (int i : gi.group(a)) cout &lt;&lt; i &lt;&lt; endl; // a が属するグループの要素の列挙 ポテンシャル付きにするためには，テンプレートパラメタで，ポテンシャルの型を渡す． (デフォルトの型は，UFDummyAlg なるものになっている)
UnionFind&lt;ll&gt; uf1(N); UnionFind&lt;ftwo&gt; uf2(N); 必要があれば，零元，和，単項マイナスを渡すこともできる:
UnionFind&lt;ll&gt; uf3(N, 0LL, plus&lt;ll&gt;(), negate&lt;ll&gt;()); ポテンシャル付きの時には，merge のときの第3引数に，ポテンシャルを渡さなければならない (省略不可)
ld = uf....</p>
  </div>
  <footer class="entry-footer">2024-04-18&amp;nbsp;·&amp;nbsp;yamate11</footer>
  <a class="entry-link" aria-label="post link to ポテンシャル付きUnionFind" href="https://yamate11.github.io/blog/posts/2024/04-18-union-find-with-potential/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">行列ライブラリ
    </h2>
  </header>
  <div class="entry-content">
    <p>自分用の 行列ライブラリ のメモです．
依存関係 AO.cc (Algebra Operations) に依存する．
型 要素の型を T として，Matrix&lt;T&gt; が，行列の型になる． (実装上，これは，Mat&lt;AO_def&lt;T&gt;&gt; として定義されているが，使うときは気にしなくて良い)
以下，要素の型を T とし，MyMat = Matrix&lt;T&gt; と定義されているものとする． mat は MyMat 型とする．
構築子 MyMat(int dimI_, int dimJ_) … dimI_ 行 dimJ_ 列 の零行列 MyMat(int dimI_, int dimJ_, T t) … dimI_ 行 dimJ_ 列 の，要素の値がすべて t である行列 MyMat(int dimI_, int dimJ_, const vector&lt;T&gt;&amp; vec) … dimI_ 行，dimJ_ 列で，内部表現が vec である行列． 内部表現は，$a_{00}, a_{01}, \dots, a_{10}, a_{11}, \dots a_{mn}$ の順に並べた1次元 vector....</p>
  </div>
  <footer class="entry-footer">2024-03-30&amp;nbsp;·&amp;nbsp;yamate11</footer>
  <a class="entry-link" aria-label="post link to 行列ライブラリ" href="https://yamate11.github.io/blog/posts/2024/03-30-matrix/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">ARC175-C Jumping Through Intervals
    </h2>
  </header>
  <div class="entry-content">
    <p>問題へのリンク 状況 コンテスト中解けず．ACまで結局3時間かかった．
解説を読んで 「辞書順最小の良い整数列」を一度に求めようとしたので話を複雑にしてしまった．
良い整数列を全部求める その中で辞書順最小のものを決める と考えるべきだった．
[1] のように問題が与えられた時，[2] のように後ろから最適な場所をマークしていく． [3] の青線が，良い整数列の全部になる．この際，前の段階で「最適」とは言われなかったところも 良い整数列として現れていることに注意． もっとも下にある青線の列が答となる．</p>
  </div>
  <footer class="entry-footer">2024-03-25&amp;nbsp;·&amp;nbsp;yamate11</footer>
  <a class="entry-link" aria-label="post link to ARC175-C Jumping Through Intervals" href="https://yamate11.github.io/blog/posts/2024/03-25-arc175-c/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">ABC346-G Alone
    </h2>
  </header>
  <div class="entry-content">
    <p>ABC346-G Alone の解法です．典型だったのか．知らなかった….
問題へのリンク ABC346-G Alone 問題概要 $A = (A_1, \dots, A_N)$ が与えられる． $1 \leq L \leq R \leq N$ で，$A_L, A_{L &#43; 1}, \dots, A_R$ の中に1度だけ出現する数がある ような $(L, R)$ の組の数を答えよ．
制約: $N \leq 2\times 10^5$, $1 \leq A_i \leq N$
前提知識 辺が座標軸と平行な長方形 $N$ 個の頂点の座標が与えられた時， 被覆する図形の面積は，次の方法で $O(N \log N)$ で求められる．
適宜座標圧縮する．頂点のx座標の小さい順にソートして平面走査する．ベクトル $S$ を用意する．
左端頂点 $(x, y_1)$, $(x, y_2)$ が現れたら，$S[y_1], …, S[y_2 - 1]$ に$1$を加える． 右端頂点 $(x, y_3)$, $(x, y_4)$ が現れたら，$S[y_3], …, S[y_4 - 1]$ に$-1$を加える． $S[\min], … S[\max]$ のうち，$0$ であるものの数を $t$ として，$\max - \min &#43; 1 - t$ を答に加える． 愚直だと $\Omega(N^2)$ かかるが，次の lazy segment tree を使うと $O(N \log N)$ になる．...</p>
  </div>
  <footer class="entry-footer">2024-03-24&amp;nbsp;·&amp;nbsp;yamate11</footer>
  <a class="entry-link" aria-label="post link to ABC346-G Alone" href="https://yamate11.github.io/blog/posts/2024/03-24-abc346-g/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">木ライブラリ
    </h2>
  </header>
  <div class="entry-content">
    <p>自分用の木のライブラリのメモです．ソースはこちら ．
1. 典型的な使用法 ll N; cin &gt;&gt; N; Tree tr(N, root); // ノード数 N, 根は root． vector weight(N - 1, 0LL); REP(i, 0, N - 1) { ll a, b, w; cin &gt;&gt; a &gt;&gt; b &gt;&gt; w; a--; b--; // 0-indexed. ll e = tr.add_edge(u, v); weight[e] = w; } auto dfs = [&amp;](auto rF, ll nd) -&gt; void { for (ll cld = tr.children(nd)) { ... } for (auto [cld, e] = tr....</p>
  </div>
  <footer class="entry-footer">2024-03-13&amp;nbsp;·&amp;nbsp;yamate11</footer>
  <a class="entry-link" aria-label="post link to 木ライブラリ" href="https://yamate11.github.io/blog/posts/2024/03-13-tree-lib/"></a>
</article>
<footer class="page-footer">
  <nav class="pagination">
    <a class="next" href="https://yamate11.github.io/blog/page/2/">Next&nbsp;&nbsp;»
    </a>
  </nav>
</footer>
    </main>
    
<footer class="footer">
    <span>&copy; 2024 <a href="https://yamate11.github.io/blog/">yamate11のブログ</a></span>
    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
</body>

</html>
